import ci from '@fastify/cors';
import Bi from '@fastify/helmet';
import Ii from '@fastify/jwt';
import Ci from '@fastify/redis';
import fi from '@fastify/swagger';
import Ei from '@fastify/websocket';
import wi from '@scalar/fastify-api-reference';
import Qi from 'fastify';
import { validatorCompiler, serializerCompiler } from 'fastify-type-provider-zod';
import { DefaultLogger, WebsocketClient } from 'bybit-api';
import Se from 'fastify-plugin';
import { Address, WalletContractV1R1, WalletContractV1R2, WalletContractV1R3, WalletContractV2R1, WalletContractV2R2, WalletContractV3R1, WalletContractV3R2, WalletContractV4, Cell, contractAddress, TonClient, internal, beginCell, TonClient4, fromNano, loadStateInit } from '@ton/ton';
import 'dotenv/config';
import l, { ZodError } from 'zod';
import { Buffer } from 'buffer';
import { mnemonicToPrivateKey, sha256 } from '@ton/crypto';
import pe from 'tweetnacl';
import { toNano, contractAddress as contractAddress$1, Slice, beginCell as beginCell$1, TupleBuilder, Dictionary, Cell as Cell$1, Builder } from '@ton/core';
import { Queue, Worker } from 'bullmq';

var Le=async i=>{({...DefaultLogger,silly:(...o)=>console.log("silly",...o)});let e=new WebsocketClient({market:"v5"});i.addHook("onClose",async()=>{e.closeAll();}),i.decorate("bybit",{ws:e});},z=Se(Le);var Z=(o=>(o.development="development",o.test="test",o.production="production",o))(Z||{}),Te=l.object({NODE_ENV:l.nativeEnum(Z),LOG_LEVEL:l.string(),API_HOST:l.string(),API_PORT:l.string(),ALLOWED_ORIGINS:l.string(),REDIS_URI:l.string(),REDIS_HOST:l.string(),REDIS_PORT:l.coerce.number(),REDIS_PASSWORD:l.string(),REDIS_USER:l.string(),COOKIE_SECRET:l.string(),JWT_SECRET:l.string(),RPC_PROVIDER_API_KEY:l.string(),DATA_STREAM_ADDRESS:l.string(),BTC_BROKER_ADDRESS:l.string().transform(i=>Address.parse(i)),MNEMONIC:l.string(),BOT_TOKEN:l.string()}),Ne=async i=>{let t=Te.safeParse(process.env);if(!t.success)throw new Error(".env file validation failed - "+JSON.stringify(t.error,null,2));i.decorate("config",t.data);},Y=Se(Ne);var M=(e=>(e.MAINNET="-239",e.TESTNET="-3",e))(M||{});var w=l.enum(["BTCUSDT","ETHUSDT","BNBUSDT","SOLUSDT","TONUSDT"]),J=l.object({start:l.number(),end:l.number(),interval:l.string(),open:l.string(),close:l.string(),high:l.string(),low:l.string(),volume:l.string(),turnover:l.string(),confirm:l.boolean(),timestamp:l.number()});l.object({topic:l.string(),data:l.array(J),ts:l.number(),type:l.string(),wsKey:l.string()});var Je=l.object({open:l.number(),close:l.number(),high:l.number(),low:l.number(),time:l.number()});l.array(Je);var $=l.object({op:l.enum(["subscribe"]),args:l.array(w)});var D=class i{static create(t){return t==="-239"&&(t=new TonClient4({endpoint:"https://mainnet-v4.tonhubapi.com"})),t==="-3"&&(t=new TonClient4({endpoint:"https://testnet-v4.tonhubapi.com"})),new i(t)}client;constructor(t){this.client=t;}async getWalletPublicKey(t){let e=await this.client.getLastBlock(),o=await this.client.runMethod(e.last.seqno,Address.parse(t),"get_public_key",[]);return Buffer.from(o.reader.readBigNumber().toString(16).padStart(64,"0"),"hex")}async getAccountInfo(t){let e=await this.client.getLastBlock();return await this.client.getAccount(e.last.seqno,Address.parse(t))}};var x=class{static create(t){let e=WalletContractV4.create(t),{data:o}=e.init,n=Cell.fromBoc(Buffer.from("B5EE9C72410215010002F5000114FF00F4A413F4BCF2C80B010201200203020148040504F8F28308D71820D31FD31FD31F02F823BBF263ED44D0D31FD31FD3FFF404D15143BAF2A15151BAF2A205F901541064F910F2A3F80024A4C8CB1F5240CB1F5230CBFF5210F400C9ED54F80F01D30721C0009F6C519320D74A96D307D402FB00E830E021C001E30021C002E30001C0039130E30D03A4C8CB1F12CB1FCBFF1112131403EED001D0D3030171B0915BE021D749C120915BE001D31F218210706C7567BD228210626C6E63BDB022821064737472BDB0925F03E002FA403020FA4401C8CA07CBFFC9D0ED44D0810140D721F404305C810108F40A6FA131B3925F05E004D33FC8258210706C7567BA9131E30D248210626C6E63BAE30004060708020120090A005001FA00F404308210706C7567831EB17080185005CB0527CF165003FA02F40012CB69CB1F5210CB3F0052F8276F228210626C6E63831EB17080185005CB0527CF1624FA0214CB6A13CB1F5230CB3F01FA02F4000092821064737472BA8E3504810108F45930ED44D0810140D720C801CF16F400C9ED54821064737472831EB17080185004CB0558CF1622FA0212CB6ACB1FCB3F9410345F04E2C98040FB000201200B0C0059BD242B6F6A2684080A06B90FA0218470D4080847A4937D29910CE6903E9FF9837812801B7810148987159F31840201580D0E0011B8C97ED44D0D70B1F8003DB29DFB513420405035C87D010C00B23281F2FFF274006040423D029BE84C600201200F100019ADCE76A26840206B90EB85FFC00019AF1DF6A26840106B90EB858FC0006ED207FA00D4D422F90005C8CA0715CBFFC9D077748018C8CB05CB0222CF165005FA0214CB6B12CCCCC971FB00C84014810108F451F2A702006C810108D718C8542025810108F451F2A782106E6F746570748018C8CB05CB025004CF16821005F5E100FA0213CB6A12CB1FC971FB00020072810108D718305202810108F459F2A7F82582106473747270748018C8CB05CB025005CF16821005F5E100FA0214CB6A13CB1F12CB3FC973FB00000AF400C9ED5446A9F34F","hex"))[0];return e.init={data:o,code:n},e.address=contractAddress(t.workchain,e.init),e}},Xe=[{contract:WalletContractV1R1,loadData:R},{contract:WalletContractV1R2,loadData:R},{contract:WalletContractV1R3,loadData:R},{contract:WalletContractV2R1,loadData:te},{contract:WalletContractV2R2,loadData:te},{contract:WalletContractV3R1,loadData:ie},{contract:WalletContractV3R2,loadData:ie},{contract:x,loadData:ne},{contract:WalletContractV4,loadData:ne}].map(({contract:i,loadData:t})=>({contract:i,loadData:t,wallet:i.create({workchain:0,publicKey:Buffer.alloc(32)})}));function R(i){let t=i.loadUint(32),e=i.loadBuffer(32);return {seqno:t,publicKey:e}}function te(i){let t=i.loadUint(32),e=i.loadBuffer(32);return {seqno:t,publicKey:e}}function ie(i){let t=i.loadUint(32),e=i.loadUint(32),o=i.loadBuffer(32);return {seqno:t,publicKey:o,walletId:e}}function ne(i){let t=i.loadUint(32),e=i.loadUint(32),o=i.loadBuffer(32),n=i.loadMaybeRef();return {seqno:t,publicKey:o,walletId:e,plugins:n}}function ae(i){if(!i.code||!i.data)return null;for(let{wallet:t,loadData:e}of Xe)try{if(t.init.code.equals(i.code))return e(i.data.beginParse()).publicKey}catch{}return null}var Ze="ton-proof-item-v2/",$e="ton-connect",_e=15*60,h=class{generatePayload(){return Buffer.from(pe.randomBytes(32)).toString("hex")}async checkProof(t,e){try{let o=loadStateInit(Cell.fromBase64(t.proof.state_init).beginParse()),n=ae(o)??await e(t.address);if(!n)return !1;let s=Buffer.from(t.public_key,"hex");if(!n.equals(s))return !1;let r=Address.parse(t.address),p=contractAddress(r.workChain,o);if(!p.equals(r)||Math.floor(Date.now()/1e3)-_e>t.proof.timestamp)return !1;let A={workchain:p.workChain,address:p.hash,domain:{lengthBytes:t.proof.domain.lengthBytes,value:t.proof.domain.value},signature:Buffer.from(t.proof.signature,"base64"),payload:t.proof.payload,stateInit:t.proof.state_init,timestamp:t.proof.timestamp},C=Buffer.alloc(4);C.writeUInt32BE(A.workchain,0);let c=Buffer.alloc(8);c.writeBigUInt64LE(BigInt(A.timestamp),0);let f=Buffer.alloc(4);f.writeUInt32LE(A.domain.lengthBytes,0);let b=Buffer.concat([Buffer.from(Ze),C,A.address,f,Buffer.from(A.domain.value),c,Buffer.from(A.payload)]),G=Buffer.from(await sha256(b)),P=Buffer.concat([Buffer.from([255,255]),Buffer.from($e),G]),U=Buffer.from(await sha256(P));return pe.sign.detached.verify(U,A.signature,n)}catch{return !1}}};var Q=class{static async parseKlineTopic(t,e){let o=e.pipeline();o.lrange(t[0],0,-1),o.get(t[1]);let n=await o.exec();if(!n)throw new Error("Failed to fetch data from Redis");let s=(n[0]?.[1]).map(A=>JSON.parse(A)),r=JSON.parse(n[1]?.[1]),p=l.array(J).safeParse(s),a=J.safeParse(r);if(!p.success||!a.success)throw p.error||a.error;return {confirmedCandlesticks:p.data,latestCandlestick:a.data}}};var it=(i,t)=>t.topic===i,de=async(i,t)=>{let {redis:e}=i.server,{topic:o}=i.params,n=[],s=null;switch(o){case w.Enum.BTCUSDT:try{let a=await Q.parseKlineTopic(["kline:BTC:24h","kline:BTC:1m"],e);n=a.confirmedCandlesticks,s=a.latestCandlestick;}catch(a){a instanceof ZodError&&(a=a);}break;case w.Enum.ETHUSDT:try{let a=await Q.parseKlineTopic(["kline:ETH:24h","kline:ETH:1m"],e);n=a.confirmedCandlesticks,s=a.latestCandlestick;}catch(a){a instanceof ZodError&&(a=a);}break;case w.Enum.TONUSDT:try{let a=await Q.parseKlineTopic(["kline:TON:24h","kline:TON:1m"],e);n=a.confirmedCandlesticks,s=a.latestCandlestick;}catch(a){a instanceof ZodError&&(a=a);}break;case w.Enum.SOLUSDT:try{let a=await Q.parseKlineTopic(["kline:SOL:24h","kline:SOL:1m"],e);n=a.confirmedCandlesticks,s=a.latestCandlestick;}catch(a){a instanceof ZodError&&(a=a);}break;case w.Enum.BNBUSDT:try{let a=await Q.parseKlineTopic(["kline:BNB:24h","kline:BNB:1m"],e);n=a.confirmedCandlesticks,s=a.latestCandlestick;}catch(a){a instanceof ZodError&&(a=a);}break}let p=[];for(let a of n)p.push({open:Number(a.open),close:Number(a.close),high:Number(a.high),low:Number(a.low),time:Number(a.end.toString().slice(0,-3))});return t.code(200).send({list:p,latest:s?{open:Number(s?.open),close:Number(s?.close),high:Number(s?.high),low:Number(s?.low),time:Number(s?.end.toString().slice(0,-3))}:null})},Ae=async(i,t)=>{let{bybit:e}=t.server;i.on("message",async o=>{try{let s=$.parse(JSON.parse(o.toString())).args;e.ws.on("update",r=>nt(i,r,s));}catch(n){if(n instanceof ZodError){i.send(JSON.stringify({error:n.format()}));return}n instanceof Error&&i.send(JSON.stringify({error:"Invalid JSON payload"}));}});},nt=(i,t,e)=>{for(let o of e)if(it(`kline.1.${o}`,t))for(let n of t.data)i.send(JSON.stringify({topic:o,data:{high:Number(n.high),low:Number(n.low),open:Number(n.open),close:Number(n.close),time:Number(n.end.toString().slice(0,-3))}}));};function ot(i){return t=>{let e=t;e.storeUint(1366331229,32),e.storeUint(i.queryId,64);}}function st(i){return t=>{let e=t;e.storeUint(2141827764,32),e.storeUint(i.queryId,64);}}function at(i){return t=>{let e=t;e.storeUint(550691255,32),e.storeUint(i.queryId,64);}}function le(i){let t=i.readBigNumber(),e=i.readBigNumber();return {$$type:"Fraction",nominator:t,denominator:e}}function rt(i){return t=>{let e=t;e.storeAddress(i.holder),e.storeInt(i.initiation,257),e.storeInt(i.expiration,257),e.storeBit(i.optionType);let o=new Builder;o.storeInt(i.investment,257),e.storeRef(o.endCell());}}function pt(i){return t=>{let e=t;e.storeUint(1174791129,32),e.storeUint(i.queryId,64),e.store(rt(i.draft));}}function dt(i){return t=>{let e=t;e.storeUint(2669413677,32),e.storeUint(i.queryId,64),e.storeInt(i.optionId,257),e.storeAddress(i.holder);}}function At(i){return t=>{let e=t;e.storeUint(4281832964,32),e.storeUint(i.queryId,64);}}function yt(i){return t=>{let e=t;e.storeUint(402709524,32),e.storeUint(i.queryId,64);}}function lt(i){return t=>{let e=t;e.storeUint(1344539513,32),e.storeUint(i.queryId,64);}}function mt(i){return t=>{let e=t;e.storeUint(2253786793,32),e.storeUint(i.queryId,64);}}function gt(i){return t=>{let e=t;e.storeAddress(i.owner),e.storeAddress(i.stream);}}async function me(i,t){let e=Cell$1.fromBase64("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"),o=Cell$1.fromBase64("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"),n=beginCell$1();n.storeRef(o),n.storeUint(0,1),gt({$$type:"Broker_init_args",owner:i,stream:t})(n);let s=n.endCell();return {code:e,data:s}}var ut={2:{message:"Stack underflow"},3:{message:"Stack overflow"},4:{message:"Integer overflow"},5:{message:"Integer out of expected range"},6:{message:"Invalid opcode"},7:{message:"Type check error"},8:{message:"Cell overflow"},9:{message:"Cell underflow"},10:{message:"Dictionary error"},13:{message:"Out of gas error"},32:{message:"Method ID not found"},34:{message:"Action is invalid or not supported"},37:{message:"Not enough TON"},38:{message:"Not enough extra-currencies"},128:{message:"Null reference exception"},129:{message:"Invalid serialization prefix"},130:{message:"Invalid incoming message"},131:{message:"Constraints error"},132:{message:"Access denied"},133:{message:"Contract stopped"},134:{message:"Invalid argument"},135:{message:"Code of a contract was not found"},136:{message:"Invalid address"},137:{message:"Masterchain support is not enabled for this contract"}},ct=[{name:"StateInit",header:null,fields:[{name:"code",type:{kind:"simple",type:"cell",optional:!1}},{name:"data",type:{kind:"simple",type:"cell",optional:!1}}]},{name:"Context",header:null,fields:[{name:"bounced",type:{kind:"simple",type:"bool",optional:!1}},{name:"sender",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"raw",type:{kind:"simple",type:"slice",optional:!1}}]},{name:"SendParameters",header:null,fields:[{name:"bounce",type:{kind:"simple",type:"bool",optional:!1}},{name:"to",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"mode",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"body",type:{kind:"simple",type:"cell",optional:!0}},{name:"code",type:{kind:"simple",type:"cell",optional:!0}},{name:"data",type:{kind:"simple",type:"cell",optional:!0}}]},{name:"DSTDeploy",header:306133030,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeploySuccess",header:3957924127,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeployBatch",header:3012477066,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeployBatchSuccess",header:1261138638,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"batch",type:{kind:"simple",type:"address",optional:!1}}]},{name:"DSTDeploySession",header:1658160529,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeploySessionSuccess",header:3452518278,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}}]},{name:"DSTSubscribe",header:3216336466,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"subscriber",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"DSTSubscribeSuccess",header:3770107736,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"batch",type:{kind:"simple",type:"address",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"Candlestick",header:null,fields:[{name:"start",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"end",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"open",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"close",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"high",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"low",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"DSTPublishCandlestick",header:990592317,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}}]},{name:"DSTPublishCandlestickSuccess",header:215123525,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTUnsubscribedNotification",header:1287102660,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBDeploy",header:4267613765,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SBDeploySuccess",header:1031311118,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"batchId",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBSubscribe",header:2001551522,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBSubscribeSuccess",header:4082513223,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBPublishCandlestick",header:4051052066,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}},{name:"publisher",type:{kind:"simple",type:"address",optional:!1}}]},{name:"SBCandlestickPublishedNotification",header:4175431181,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBUnsubscribedNotification",header:1003141156,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBPublishCandlestickSuccess",header:1027631690,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDeploy",header:1372687436,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDeploySuccess",header:269942218,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"subscriber",type:{kind:"simple",type:"address",optional:!1}}]},{name:"SESSubscribe",header:1533823831,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"DSTTopUpSubscription",header:495971614,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"subscriber",type:{kind:"simple",type:"address",optional:!1}},{name:"batch",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBTopUpSubscription",header:267884312,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESSubscribeSuccess",header:1400038355,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESCandlestickPublishedNotification",header:3200926804,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESUnsubscribedNotification",header:4092566650,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESUnsubscribe",header:2668625285,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SBUnsubscribe",header:1095850324,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDestroy",header:2226780297,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDestroySuccess",header:21916563,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRGDeploy",header:4195386677,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRGDeploySuccess",header:3142995347,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRGDeployBroker",header:298971134,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"stream",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRKDeploy",header:1366331229,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKDeploySuccess",header:2536416450,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"stream",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRGDeployBrokerSuccess",header:4042145317,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"broker",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRGDeployAccount",header:3233956202,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRADeploy",header:1181556865,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRADeploySuccess",header:3517832790,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"trader",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRGDeployAccountSuccess",header:1962963078,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"account",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRKDeposit",header:2141827764,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKDepositSuccess",header:2064422216,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKWithdraw",header:550691255,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKWithdrawSuccess",header:2654800410,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"Fraction",header:null,fields:[{name:"nominator",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"denominator",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"CashOrNothingOptionDraftAgreement",header:null,fields:[{name:"holder",type:{kind:"simple",type:"address",optional:!1}},{name:"initiation",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"expiration",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"optionType",type:{kind:"simple",type:"bool",optional:!1}},{name:"investment",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"BrokerDeployOption",header:1174791129,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"draft",type:{kind:"simple",type:"CashOrNothingOptionDraftAgreement",optional:!1}}]},{name:"BrokerDeployOptionSuccess",header:2438374427,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"stream",type:{kind:"simple",type:"address",optional:!1}},{name:"option",type:{kind:"simple",type:"address",optional:!1}}]},{name:"CashOrNothingOptionDeploy",header:3343868548,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"stream",type:{kind:"simple",type:"address",optional:!1}},{name:"agreement",type:{kind:"simple",type:"CashOrNothingOptionAgreement",optional:!1}}]},{name:"CashOrNothingOptionDeploySuccess",header:2669413677,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"optionId",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"holder",type:{kind:"simple",type:"address",optional:!1}}]},{name:"CashOrNothingOptionSettledInMoneyNotification",header:4281832964,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"CashOrNothingOptionSettledOutMoneyNotification",header:402709524,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"CashOrNothingOptionSettledAtMoneyNotification",header:1344539513,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"CashOrNothingOptionAgreement",header:null,fields:[{name:"holder",type:{kind:"simple",type:"address",optional:!1}},{name:"writer",type:{kind:"simple",type:"address",optional:!1}},{name:"initiation",type:{kind:"simple",type:"uint",optional:!1,format:32}},{name:"expiration",type:{kind:"simple",type:"uint",optional:!1,format:32}},{name:"optionType",type:{kind:"simple",type:"bool",optional:!1}},{name:"investment",type:{kind:"simple",type:"uint",optional:!1,format:"coins"}},{name:"payout",type:{kind:"simple",type:"uint",optional:!1,format:"coins"}}]},{name:"SubscriberDestroyedNotification",header:2253786793,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SubscriberCheckTimeout",header:1397988627,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SubscriberTimeoutExceeded",header:2857706980,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]}],Bt=[{name:"balance",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"storageReserve",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"depositDeposit",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"owner",arguments:[],returnType:{kind:"simple",type:"address",optional:!1}},{name:"stream",arguments:[],returnType:{kind:"simple",type:"address",optional:!1}},{name:"payout",arguments:[],returnType:{kind:"simple",type:"Fraction",optional:!1}},{name:"payoutRatio",arguments:[],returnType:{kind:"simple",type:"Fraction",optional:!1}},{name:"nextOptionId",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"optionAddress",arguments:[{name:"optionId",type:{kind:"simple",type:"int",optional:!1,format:257}}],returnType:{kind:"simple",type:"address",optional:!1}}],It=[{receiver:"internal",message:{kind:"typed",type:"BRKDeploy"}},{receiver:"internal",message:{kind:"typed",type:"BRKDeposit"}},{receiver:"internal",message:{kind:"typed",type:"BRKWithdraw"}},{receiver:"internal",message:{kind:"typed",type:"BrokerDeployOption"}},{receiver:"internal",message:{kind:"typed",type:"CashOrNothingOptionDeploySuccess"}},{receiver:"internal",message:{kind:"typed",type:"CashOrNothingOptionSettledInMoneyNotification"}},{receiver:"internal",message:{kind:"typed",type:"CashOrNothingOptionSettledOutMoneyNotification"}},{receiver:"internal",message:{kind:"typed",type:"CashOrNothingOptionSettledAtMoneyNotification"}},{receiver:"internal",message:{kind:"typed",type:"SubscriberDestroyedNotification"}}],ce=class K{constructor(t,e){this.abi={types:ct,getters:Bt,receivers:It,errors:ut},this.address=t,this.init=e;}static async init(t,e){return await me(t,e)}static async fromInit(t,e){let o=await me(t,e),n=contractAddress$1(0,o);return new K(n,o)}static fromAddress(t){return new K(t)}async send(t,e,o,n){let s=null;if(n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="BRKDeploy"&&(s=beginCell$1().store(ot(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="BRKDeposit"&&(s=beginCell$1().store(st(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="BRKWithdraw"&&(s=beginCell$1().store(at(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="BrokerDeployOption"&&(s=beginCell$1().store(pt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="CashOrNothingOptionDeploySuccess"&&(s=beginCell$1().store(dt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="CashOrNothingOptionSettledInMoneyNotification"&&(s=beginCell$1().store(At(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="CashOrNothingOptionSettledOutMoneyNotification"&&(s=beginCell$1().store(yt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="CashOrNothingOptionSettledAtMoneyNotification"&&(s=beginCell$1().store(lt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="SubscriberDestroyedNotification"&&(s=beginCell$1().store(mt(n)).endCell()),s===null)throw new Error("Invalid message type");await t.internal(e,{...o,body:s});}async getBalance(t){let e=new TupleBuilder;return (await t.get("balance",e.build())).stack.readBigNumber()}async getStorageReserve(t){let e=new TupleBuilder;return (await t.get("storageReserve",e.build())).stack.readBigNumber()}async getDepositDeposit(t){let e=new TupleBuilder;return (await t.get("depositDeposit",e.build())).stack.readBigNumber()}async getOwner(t){let e=new TupleBuilder;return (await t.get("owner",e.build())).stack.readAddress()}async getStream(t){let e=new TupleBuilder;return (await t.get("stream",e.build())).stack.readAddress()}async getPayout(t){let e=new TupleBuilder,o=(await t.get("payout",e.build())).stack;return le(o)}async getPayoutRatio(t){let e=new TupleBuilder,o=(await t.get("payoutRatio",e.build())).stack;return le(o)}async getNextOptionId(t){let e=new TupleBuilder;return (await t.get("nextOptionId",e.build())).stack.readBigNumber()}async getOptionAddress(t,e){let o=new TupleBuilder;return o.writeNumber(e),(await t.get("optionAddress",o.build())).stack.readAddress()}};function Ct(i){return t=>{let e=t;e.storeUint(3452518278,32),e.storeUint(i.queryId,64),e.storeAddress(i.session);}}function ft(i){return t=>{let e=t;e.storeInt(i.start,257),e.storeInt(i.end,257),e.storeInt(i.open,257);let o=new Builder;o.storeInt(i.close,257),o.storeInt(i.high,257),o.storeInt(i.low,257),e.storeRef(o.endCell());}}function Et(i){let t=i.readBigNumber(),e=i.readBigNumber(),o=i.readBigNumber(),n=i.readBigNumber(),s=i.readBigNumber(),r=i.readBigNumber();return {$$type:"Candlestick",start:t,end:e,open:o,close:n,high:s,low:r}}function wt(i){return t=>{let e=t;e.storeUint(1400038355,32),e.storeUint(i.queryId,64),e.storeInt(i.remainingNotificationsCount,257);}}function Qt(i){return t=>{let e=t;e.storeUint(3200926804,32),e.storeUint(i.queryId,64),e.store(ft(i.candlestick));let o=new Builder;o.storeInt(i.remainingNotificationsCount,257),e.storeRef(o.endCell());}}function bt(i){return t=>{let e=t;e.storeUint(4092566650,32),e.storeUint(i.queryId,64),e.storeInt(i.remainingNotificationsCount,257);}}function kt(i){return t=>{let e=t;e.storeUint(21916563,32),e.storeUint(i.queryId,64);}}function Dt(i){return t=>{let e=t;e.storeUint(1397988627,32),e.storeUint(i.queryId,64);}}function ht(i){return t=>{let e=t;e.storeUint(3343868548,32),e.storeUint(i.queryId,64),e.storeAddress(i.stream);let o=new Builder;o.store(St(i.agreement)),e.storeRef(o.endCell());}}function St(i){return t=>{let e=t;e.storeAddress(i.holder),e.storeAddress(i.writer),e.storeUint(i.initiation,32),e.storeUint(i.expiration,32),e.storeBit(i.optionType),e.storeCoins(i.investment),e.storeCoins(i.payout);}}function Lt(i){let t=i.readAddress(),e=i.readAddress(),o=i.readBigNumber(),n=i.readBigNumber(),s=i.readBoolean(),r=i.readBigNumber(),p=i.readBigNumber();return {$$type:"CashOrNothingOptionAgreement",holder:t,writer:e,initiation:o,expiration:n,optionType:s,investment:r,payout:p}}function Mt(i){return t=>{let e=t;e.storeAddress(i.deployer),e.storeInt(i.optionId,257);}}async function ge(i,t){let e=Cell$1.fromBase64("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"),o=Cell$1.fromBase64("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"),n=beginCell$1();n.storeRef(o),n.storeUint(0,1),Mt({$$type:"CashOrNothingOption_init_args",deployer:i,optionId:t})(n);let s=n.endCell();return {code:e,data:s}}var Ht={2:{message:"Stack underflow"},3:{message:"Stack overflow"},4:{message:"Integer overflow"},5:{message:"Integer out of expected range"},6:{message:"Invalid opcode"},7:{message:"Type check error"},8:{message:"Cell overflow"},9:{message:"Cell underflow"},10:{message:"Dictionary error"},13:{message:"Out of gas error"},32:{message:"Method ID not found"},34:{message:"Action is invalid or not supported"},37:{message:"Not enough TON"},38:{message:"Not enough extra-currencies"},128:{message:"Null reference exception"},129:{message:"Invalid serialization prefix"},130:{message:"Invalid incoming message"},131:{message:"Constraints error"},132:{message:"Access denied"},133:{message:"Contract stopped"},134:{message:"Invalid argument"},135:{message:"Code of a contract was not found"},136:{message:"Invalid address"},137:{message:"Masterchain support is not enabled for this contract"}},Tt=[{name:"StateInit",header:null,fields:[{name:"code",type:{kind:"simple",type:"cell",optional:!1}},{name:"data",type:{kind:"simple",type:"cell",optional:!1}}]},{name:"Context",header:null,fields:[{name:"bounced",type:{kind:"simple",type:"bool",optional:!1}},{name:"sender",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"raw",type:{kind:"simple",type:"slice",optional:!1}}]},{name:"SendParameters",header:null,fields:[{name:"bounce",type:{kind:"simple",type:"bool",optional:!1}},{name:"to",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"mode",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"body",type:{kind:"simple",type:"cell",optional:!0}},{name:"code",type:{kind:"simple",type:"cell",optional:!0}},{name:"data",type:{kind:"simple",type:"cell",optional:!0}}]},{name:"DSTDeploy",header:306133030,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeploySuccess",header:3957924127,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeployBatch",header:3012477066,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeployBatchSuccess",header:1261138638,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"batch",type:{kind:"simple",type:"address",optional:!1}}]},{name:"DSTDeploySession",header:1658160529,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeploySessionSuccess",header:3452518278,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}}]},{name:"DSTSubscribe",header:3216336466,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"subscriber",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"DSTSubscribeSuccess",header:3770107736,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"batch",type:{kind:"simple",type:"address",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"Candlestick",header:null,fields:[{name:"start",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"end",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"open",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"close",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"high",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"low",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"DSTPublishCandlestick",header:990592317,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}}]},{name:"DSTPublishCandlestickSuccess",header:215123525,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTUnsubscribedNotification",header:1287102660,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBDeploy",header:4267613765,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SBDeploySuccess",header:1031311118,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"batchId",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBSubscribe",header:2001551522,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBSubscribeSuccess",header:4082513223,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBPublishCandlestick",header:4051052066,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}},{name:"publisher",type:{kind:"simple",type:"address",optional:!1}}]},{name:"SBCandlestickPublishedNotification",header:4175431181,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBUnsubscribedNotification",header:1003141156,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBPublishCandlestickSuccess",header:1027631690,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDeploy",header:1372687436,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDeploySuccess",header:269942218,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"subscriber",type:{kind:"simple",type:"address",optional:!1}}]},{name:"SESSubscribe",header:1533823831,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"DSTTopUpSubscription",header:495971614,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"subscriber",type:{kind:"simple",type:"address",optional:!1}},{name:"batch",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBTopUpSubscription",header:267884312,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESSubscribeSuccess",header:1400038355,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESCandlestickPublishedNotification",header:3200926804,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESUnsubscribedNotification",header:4092566650,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESUnsubscribe",header:2668625285,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SBUnsubscribe",header:1095850324,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDestroy",header:2226780297,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDestroySuccess",header:21916563,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRGDeploy",header:4195386677,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRGDeploySuccess",header:3142995347,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRGDeployBroker",header:298971134,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"stream",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRKDeploy",header:1366331229,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKDeploySuccess",header:2536416450,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"stream",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRGDeployBrokerSuccess",header:4042145317,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"broker",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRGDeployAccount",header:3233956202,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRADeploy",header:1181556865,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRADeploySuccess",header:3517832790,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"trader",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRGDeployAccountSuccess",header:1962963078,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"account",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRKDeposit",header:2141827764,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKDepositSuccess",header:2064422216,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKWithdraw",header:550691255,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKWithdrawSuccess",header:2654800410,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SubscriberDestroyedNotification",header:2253786793,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SubscriberCheckTimeout",header:1397988627,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SubscriberTimeoutExceeded",header:2857706980,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"CashOrNothingOptionDeploy",header:3343868548,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"stream",type:{kind:"simple",type:"address",optional:!1}},{name:"agreement",type:{kind:"simple",type:"CashOrNothingOptionAgreement",optional:!1}}]},{name:"CashOrNothingOptionDeploySuccess",header:2669413677,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"optionId",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"holder",type:{kind:"simple",type:"address",optional:!1}}]},{name:"CashOrNothingOptionSettledInMoneyNotification",header:4281832964,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"CashOrNothingOptionSettledOutMoneyNotification",header:402709524,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"CashOrNothingOptionSettledAtMoneyNotification",header:1344539513,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"CashOrNothingOptionAgreement",header:null,fields:[{name:"holder",type:{kind:"simple",type:"address",optional:!1}},{name:"writer",type:{kind:"simple",type:"address",optional:!1}},{name:"initiation",type:{kind:"simple",type:"uint",optional:!1,format:32}},{name:"expiration",type:{kind:"simple",type:"uint",optional:!1,format:32}},{name:"optionType",type:{kind:"simple",type:"bool",optional:!1}},{name:"investment",type:{kind:"simple",type:"uint",optional:!1,format:"coins"}},{name:"payout",type:{kind:"simple",type:"uint",optional:!1,format:"coins"}}]}],Nt=[{name:"optionId",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"agreement",arguments:[],returnType:{kind:"simple",type:"CashOrNothingOptionAgreement",optional:!0}},{name:"strikePrice",arguments:[],returnType:{kind:"simple",type:"int",optional:!0,format:257}},{name:"latestCandlestick",arguments:[],returnType:{kind:"simple",type:"Candlestick",optional:!0}},{name:"balance",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"deployerAddress",arguments:[],returnType:{kind:"simple",type:"address",optional:!1}},{name:"streamAddress",arguments:[],returnType:{kind:"simple",type:"address",optional:!0}},{name:"notificationsCount",arguments:[],returnType:{kind:"simple",type:"int",optional:!0,format:257}},{name:"expiration",arguments:[],returnType:{kind:"simple",type:"int",optional:!0,format:257}},{name:"sessionAddress",arguments:[],returnType:{kind:"simple",type:"address",optional:!0}}],Pt=[{receiver:"internal",message:{kind:"typed",type:"CashOrNothingOptionDeploy"}},{receiver:"internal",message:{kind:"typed",type:"DSTDeploySessionSuccess"}},{receiver:"internal",message:{kind:"typed",type:"SESSubscribeSuccess"}},{receiver:"internal",message:{kind:"typed",type:"SESCandlestickPublishedNotification"}},{receiver:"internal",message:{kind:"typed",type:"SESUnsubscribedNotification"}},{receiver:"internal",message:{kind:"typed",type:"SESDestroySuccess"}},{receiver:"internal",message:{kind:"typed",type:"SubscriberCheckTimeout"}}],O=class q{constructor(t,e){this.abi={types:Tt,getters:Nt,receivers:Pt,errors:Ht},this.address=t,this.init=e;}static async init(t,e){return await ge(t,e)}static async fromInit(t,e){let o=await ge(t,e),n=contractAddress$1(0,o);return new q(n,o)}static fromAddress(t){return new q(t)}async send(t,e,o,n){let s=null;if(n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="CashOrNothingOptionDeploy"&&(s=beginCell$1().store(ht(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="DSTDeploySessionSuccess"&&(s=beginCell$1().store(Ct(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="SESSubscribeSuccess"&&(s=beginCell$1().store(wt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="SESCandlestickPublishedNotification"&&(s=beginCell$1().store(Qt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="SESUnsubscribedNotification"&&(s=beginCell$1().store(bt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="SESDestroySuccess"&&(s=beginCell$1().store(kt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="SubscriberCheckTimeout"&&(s=beginCell$1().store(Dt(n)).endCell()),s===null)throw new Error("Invalid message type");await t.internal(e,{...o,body:s});}async getOptionId(t){let e=new TupleBuilder;return (await t.get("optionId",e.build())).stack.readBigNumber()}async getAgreement(t){let e=new TupleBuilder,o=(await t.get("agreement",e.build())).stack.readTupleOpt();return o?Lt(o):null}async getStrikePrice(t){let e=new TupleBuilder;return (await t.get("strikePrice",e.build())).stack.readBigNumberOpt()}async getLatestCandlestick(t){let e=new TupleBuilder,o=(await t.get("latestCandlestick",e.build())).stack.readTupleOpt();return o?Et(o):null}async getBalance(t){let e=new TupleBuilder;return (await t.get("balance",e.build())).stack.readBigNumber()}async getDeployerAddress(t){let e=new TupleBuilder;return (await t.get("deployerAddress",e.build())).stack.readAddress()}async getStreamAddress(t){let e=new TupleBuilder;return (await t.get("streamAddress",e.build())).stack.readAddressOpt()}async getNotificationsCount(t){let e=new TupleBuilder;return (await t.get("notificationsCount",e.build())).stack.readBigNumberOpt()}async getExpiration(t){let e=new TupleBuilder;return (await t.get("expiration",e.build())).stack.readBigNumberOpt()}async getSessionAddress(t){let e=new TupleBuilder;return (await t.get("sessionAddress",e.build())).stack.readAddressOpt()}};function Jt(i){return t=>{let e=t;e.storeUint(306133030,32),e.storeUint(i.queryId,64);}}function vt(i){return t=>{let e=t;e.storeUint(3012477066,32),e.storeUint(i.queryId,64);}}function Ft(i){return t=>{let e=t;e.storeUint(1658160529,32),e.storeUint(i.queryId,64);}}function Gt(i){return t=>{let e=t;e.storeUint(3216336466,32),e.storeUint(i.queryId,64),e.storeAddress(i.subscriber),e.storeInt(i.notificationsCount,257);}}function Ut(i){return t=>{let e=t;e.storeInt(i.start,257),e.storeInt(i.end,257),e.storeInt(i.open,257);let o=new Builder;o.storeInt(i.close,257),o.storeInt(i.high,257),o.storeInt(i.low,257),e.storeRef(o.endCell());}}function j(i){return t=>{let e=t;e.storeUint(990592317,32),e.storeUint(i.queryId,64),e.store(Ut(i.candlestick));}}function zt(i){return t=>{let e=t;e.storeUint(1031311118,32),e.storeUint(i.queryId,64),e.storeInt(i.batchId,257);}}function Yt(i){return t=>{let e=t;e.storeUint(4082513223,32),e.storeUint(i.queryId,64),e.storeAddress(i.session),e.storeInt(i.remainingNotificationsCount,257);}}function Rt(i){return t=>{let e=t;e.storeUint(1003141156,32),e.storeUint(i.queryId,64),e.storeAddress(i.session),e.storeInt(i.remainingNotificationsCount,257);}}function xt(i){return t=>{let e=t;e.storeUint(269942218,32),e.storeUint(i.queryId,64),e.storeAddress(i.subscriber);}}function Kt(i){return t=>{let e=t;e.storeUint(495971614,32),e.storeUint(i.queryId,64),e.storeAddress(i.subscriber),e.storeAddress(i.batch),e.storeInt(i.notificationsCount,257);}}function qt(i){return t=>{t.storeInt(i.subscriptionsCount,257);}}function Xt(i){return {$$type:"SBInfo",subscriptionsCount:i.loadIntBig(257)}}function Wt(){return {serialize:(i,t)=>{t.storeRef(beginCell$1().store(qt(i)).endCell());},parse:i=>Xt(i.loadRef().beginParse())}}function Ot(i){return t=>{let e=t;e.storeAddress(i.publisher),e.storeStringRefTail(i.topic);}}async function ue(i,t){let e=Cell$1.fromBase64("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"),o=Cell$1.fromBase64("te6cckECnQEAG80AAQHAAQIBIAJrAgFIA0cBBbUKMAQBFP8A9KQT9LzyyAsFAgFiBiEC9NAB0NMDAXGwowH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIVFBTA28E+GEC+GLbPFUT2zzy4ILI+EMBzH8BygBVMFBDINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyFjPFskBzBL0AIEBAc8Aye1URAcE9gGPN4Ag1yFwIddJwh+VMCDXCx/eghD+Xp5Fuo8a0x8BghD+Xp5FuvLggdM/ATEwiFJAcG3bPH/gMH/gcCHXScIflTAg1wsf3iCCEBI/OCa6jqgw0x8BghASPzgmuvLggdM/ATHIAYIQ6+khH1jLH8s/yfhCAXBt2zx/4AgaGgkAIgAAAABTQkRlcGxveUVycm9yBNYgghCzjsCKuo6VMNMfAYIQs47Airry4IHTPwEx2zx/4CCCED14jw66jpsw0x8BghA9eI8OuvLggdM/gQEB1wBZbBLbPH/gIIIQYtWFkbqOkjDTHwGCEGLVhZG68uCB0z8BMeAgghAQFv3KugoMDg8C9PhBbyQwMlJgxwXy4ZCCEAX14QC+8uGRIcEK8uGS+EP4KCPbPFxwWchwAcsBcwHLAXABywASzMzJ+QDIcgHLAXABywASygfL/8nQINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAPIAYIQ/l6eRVjLH8s/yQJ/Am8CQQsBBNs8GgL0MPhBbyQQI18D+EP4KCTbPHBZyHABywFzAcsBcAHLABLMzMn5AMhyAcsBcAHLABLKB8v/ydAg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIUgLHBfLhkIEBC3DIAQGBAQHPAMkiEDYBIG6VMFn0WTCUQTP0E+ICpANBDQFqyFmCEEsrcs5QA8sfyz8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyVQiQHBt2zwaAuL4QW8kMGwSghAF9eEAvvLhkfhD+ChY2zxccFnIcAHLAXMBywFwAcsAEszMyfkAyHIBywFwAcsAEsoHy//J0CDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgDyAGCEFHRjExYyx/LP8kCfwJvAts8f0YaA/6OtTDTHwGCEBAW/cq68uCB0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIEmwS2zx/4CCCEL+1ZlK6jrww0x8BghC/tWZSuvLggdM/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGBAQHXAFUgbBPbPH/gEBIVArD4QW8kECNfA/hD+Cgj2zxwWchwAcsBcwHLAXABywASzMzJ+QDIcgHLAXABywASygfL/8nQINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiFICxwXy4ZASRhEBZMhZghDNyT+GUAPLH8s/ASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFslwbds8GgLe+EFvJBAjXwP4Q/goQQTbPHBZyHABywFzAcsBcAHLABLMzMn5AMhyAcsBcAHLABLKB8v/ydAg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIUgPHBfLhkCDCAfLhlIIImJaAIaWodPsCbVNVgQELRhMB/PSDb6UgkRKVMW0ybQHikI41IG6SMG2a0IEBAdcAATFvAeIgbvLQgG8hwRSSMiHegQELIgJZ9HRvpSCUAtQwWJUxbTJtAeLoXwMgbrPy4ZOBAQshIG7y0IAnWVn0C2+hkjBt3yBukjBtmtCBAQHXAAExbwHigQELIiBu8tCAAhQB1CBu8tCAbyGkyAEBgQEBzwDJEDgSIG6VMFn0WTCUQTP0E+IFIG7y0IBwUEODBgPIVSCCEHdNQKJQBMsfEss/ASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFoEBAc8AyX9VMG1t2zx8BPYgghAdj+0euo7cMNMfAYIQHY/tHrry4IHTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGBAQHXAFUwbBTbPH/gIIIQ81Y1R7rjAiCCEDsLPT264wIWGBseAtz4QW8kECNfA/hD+ChBBds8cFnIcAHLAXMBywFwAcsAEszMyfkAyHIBywFwAcsAEsoHy//J0CDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhSBMcF8uGQIMIA8uGUggiYloAhqHT7AnBQQ4MGBUYXAXrIVSCCEA/3lxhQBMsfEss/ASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFoEBAc8AyRN/VTBtbds8fAFyMNMfAYIQ81Y1R7ry4IHTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgBgQEB1wBVIGwTGQHQ+EFvJBAjXwMlgQELIln0C2+hkjBt3yBukjBtmtCBAQHXAAExbwHibrPy4ZBDAMhVIIIQ4LdHWFAEyx8Syz8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WgQEBzwDJcG3bPH8aAo5tbSJus5lbIG7y0IBvIgGRMuL4QW8kE18D+CdvEAGhggr68IC5jpSCCvrwgHD7AhAkcAMEgQCCUCPbPOAQJHADBIBCUCPbPHx8A/Iw0x8BghA7Cz09uvLggdM/2zwQZ2wX+EFvJDAyUsDHBfLhkCCCESoF8gC+8uGRKXAhgQEL9INvpSCREpUxbTJtAeKQiugQI18DbGKCCJiWgAGo+CdvEFihIaFw+wKDBgLIAYIQDNKGRVjLH8s/ySZQM39VMG1t2zx/dhx8A/AgbpIwbZrQgQEB1wABMW8B4iBu8tCAbyEgwgCPU4IK+vCAcVR9y1R9yy1WGMhVcIIQ8XYmIlAJyx8Xyz8G2zzIWCDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFskBzMkkVSB/VTBtbds8EqABkTDigQELIwJ3fB0AJFn0dG+lIJQC1DBYlTFtMm0B4gGOghA7yrgkuo670x8BghA7yrgkuvLggdM/+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAGBAQHXAFUgbBPbPH/gMHAfAfT4QW8kECNfAyWBAQsiWfQLb6GSMG3fIG6SMG2a0IEBAdcAATFvAeIgbrPy4ZCBAQsBIG7y0IBvIaXIAQGBAQHPAMkQNxIgbpUwWfRZMJRBM/QT4nAlwgGZMIIImJaAJaWo3gOAQAbIWYIQTLegxFADyx/LP4EBAc8AySABEkNQf1UwbW3bPHwCASAiMAIBICMtAgEgJCUCEbbl22ebZ42IMESJAgEgJiwCASAnKAIRrSPtnm2eNiDARJsCAWopKgIPow9s82zxsQZEhQIPohds82zxsQZEKwAMghEqBfIAAhGyUHbPNs8bEGBEhwIBSC4vAhGzvTbPNs8bEGBEOQIRsFy2zzbPGxBgRJUCASAxPAIBIDI2AgOe3DM0Ag3XbPNs8bEGRI8CD642zzbPGxBgRDUACoIJMS0AAgEgNzsCAUg4OgIQq4vbPNs8bEFEOQAMghAF9eEAAhCpzts82zxsQURcAJWy9GCcFzsPV0srnsehOw51kqFG2aCcJ3WNS0rZHyzItOvLf3xYjmCcCBVwBuAZ2OUzlg6rkclssOCcJ2XTlqzTstzOg6WbZRm6KSACASA9QwIBIJI+AgEgP0ICFa/m7Z4qge2eNiDAREABkPhD+ChY2zxwWchwAcsBcwHLAXABywASzMzJ+QDIcgHLAXABywASygfL/8nQINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiEEAogLQ9AQwbQGBKPIBgBD0D2+h8uCHAYEo8iICgBD0F8gByPQAyQHMcAHKAEADWSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFoEBAc8AyQB1rN3Ghq0uDM5nReXqLaomRk9IT0tG7czs7acOKCoGLynKTU6tT0orBybGSOxGS0kObm2qaQ0LSkzukEACTbaoRBrpMCAhd15cEQQa4WFEECCf915aETBhN15cERtniqB7Z42IMERFAeDtRNDUAfhj0gABji/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAdQB0AH0BIEBAdcAVTBsFOD4KNcLCoMJuvLgifpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB1AHQEgLRAds8agGQ+EP4KFjbPHBZyHABywFzAcsBcAHLABLMzMn5AMhyAcsBcAHLABLKB8v/ydAg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIRgDaAtD0BDBtAYIAl3cBgBD0D2+h8uCHAYIAl3ciAoAQ9BfIAcj0AMkBzHABygBAA1kg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxYBINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyQEFtR5QSAEU/wD0pBP0vPLIC0kCAWJKWQLw0AHQ0wMBcbCjAfpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IhUUFMDbwT4YQL4Yts8VRPbPPLggsj4QwHMfwHKAFUwUEMg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxaBAQHPABL0AIEBAc8Aye1UaUsE7gGSMH/gcCHXScIflTAg1wsf3iCCEP5enkW6jsUw0x8BghD+Xp5FuvLggdM/ATH4QW8kECNfA4IK+vCAdPsCcIMGUTbIWYIQPXiPDlADyx/LP4EBAc8AyUEwf1UwbW3bPH/gIIIQd01AorrjAiCCEA/3lxi64wIgfExPUgF4MNMfAYIQd01Aorry4IHTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgBgQEB1wBVIGwT2zx/TQHe+EFvJBAjXwNTcMcF8uGQJMEU8uGTBKQhwgHy4ZSCCTEtACKodPsCJYEBCyRZ9AtvoZIwbd8gbpIwbZrQgQEB1wABMW8B4m7y4ZyBAQsiyAEBgQEBzwDJJBA4ASBulTBZ9FkwlEEz9BPicFBDgwYDTgF+yFUgghDzVjVHUATLHxLLPwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxaBAQHPAMkQNH9VMG1t2zwBfAF4MNMfAYIQD/eXGLry4IHTP/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgBgQEB1wBVIGwT2zx/UAHk+EFvJBAjXwNTcMcF8uGQIcIA8uGUggkxLQAiqHT7AiWBAQskWfQLb6GSMG3fIG6SMG2a0IEBAdcAATFvAeIgbrPy4Z0gbvLQgG8hWKCBAQshyAEBgQEBzwDJJBA4ASBulTBZ9FkwlEEz9BPicFBDgwYHUQF8yFUgghDzVjVHUATLHxLLPwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxaBAQHPAMkTFX9VMG1t2zx8A8iCEPF2JiK6jzow0x8BghDxdiYiuvLggdM/2zwG1AHQ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiDEYF2wY4IIQQVFZVLqOlNMfAYIQQVFZVLry4IHTPwEx2zx/4DBwdlNXAqb4QW8kECNfA1LAxwXy4ZApcCGBAQv0g2+lIJESlTFtMm0B4pCK6BAjXwNsYoIJMS0AAaiADPsCcIMGA8gBghA9QGpKWMsfyz/JQTB/VTBtbds8f1R8BP4gbpIwbZrQgQEB1wABMW8B4iBu8tCAbyECpIIJMS0AciSlVG7gVG7gVG7gUuDIVXCCEPjgBg1QCcsfF8s/Bts8AciBAQHPAMkBzMkkVSB/VTBtbds8gQELI6XIAQGBAQHPAMkQL1IwIG6VMFn0WTCUQTP0E+ICwALjAIEBCyMCd3xVVgH8DKSCCTEtAHJTznDIVSCCEDvKuCRQBMsfEss/ASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFoEBAc8AyVYRVSB/VTBtbds8gQELbSBukjBtjhAgbvLQgG8hyAEBgQEBzwDJ4i4QNAEgbpUwWfRZMJRBM/QT4gulULsMfAAoWfR0b6UglALUMFiVMW0ybQHiED4B6vhBbyQQI18DI4EBCyJZ9AtvoZIwbd8gbpIwbZrQgQEB1wABMW8B4iBus/LhkAOlgQELbSBukjBtjhAgbvLQgG8hyAEBgQEBzwDJ4iMQNwEgbpUwWfRZMJRBM/QT4oIJMS0AJCBu8tCAbyGogAz7AoIJMS0AJFgBqiBu8tCAbyGogwYFIG7y0IBvIUQwyFUgghA7yrgkUATLHxLLPwEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxaBAQHPAMkmA1BEf1UwbW3bPAF8AgEgWmACAUhbXQIRt7j7Z5tnjYgwaVwAAiMCASBeXwIRsJH2zzbPGxBgaZsCEbGc9s82zxsQYGmFAgEgYWMCASBikAIRttgbZ5tnjYgwaY8CASBkaAIBIJJlAgFYZmcAdKm7jQ1aXBmczovL1FtV2pRVm5BczY3ZWtQTHRmaUxhamZqWjR6b21keXFEaHdVcXdGc2hETnNQZEaACEKjF2zzbPGxBaYkCEbSMG2ebZ42IMGmVAebtRNDUAfhj0gABjjD6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAYEBAdcA9ASBAQHXAFUwbBTg+CjXCwqDCbry4In6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAYEBAdcAWQLRAds8agAEbXABBby7vGwBFP8A9KQT9LzyyAttAgFibn8DetAB0NMDAXGwowH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIVFBTA28E+GEC+GLbPFUS2zzy4IKYb34E9gGSMH/gcCHXScIflTAg1wsf3iCCEFHRjEy6jskw0x8BghBR0YxMuvLggdM/ATEiyFmCEBAW/cpQA8sfyz8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WyfhCAXBt2zx/4CCCEFtsS1e64wIgghDgt0dYuuMCIHpwdHUBMDDTHwGCEFtsS1e68uCB0z+BAQHXAFlsEnEC4vhBbyQwMlJQxwXy4ZAjbo7dIcIB8uGUggr68ICCCTEtACOooIIImJaAI6WooL7y4ZFSMMhVIIIQv7VmUlAEyx8Syz8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WgQEBzwDJUjB/bds84w5/enIB/iHCAPLhlIIK+vCAggkxLQAjqKCCCJiWgCOooL7y4ZEiIG7y0IAkAshVMIIQHY/tHlAFyx8Tyz8BINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFoEBAc8AyVIwf21zAQTbPHoByjDTHwGCEOC3R1i68uCB0z/6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIAYEBAdcAVSBsEzP4QW8kECNfA1JQxwXy4ZACyFmCEFNy49NQA8sfyz+BAQHPAMlSIHBt2zx/egTaghD44AYNuo/bMNMfAYIQ+OAGDbry4IHTP9s8BtQB0IEBAdcAMBgXbBj4QW8kECNfA1KQIW6SW3CSxwXi8uGQyFVwghC+ykRUUAnLHxfLPwbbPAHIgQEBzwDJAczJUiBwbds8f+AgghBMt6DEunZ3engAUIEBAdcAgQEB1wCBAQHXANQB0IEBAdcAgQEB1wCBAQHXADAQNhA1EDQAUFBWgQEBzwATgQEBzwCBAQHPAAHIgQEBzwASgQEBzwASgQEBzwDJAcwDuo7FMNMfAYIQTLegxLry4IHTP4EBAdcAWWwSMvhBbyQQI18DUkDHBfLhkG0CyFmCEPPvnHpQA8sfyz+BAQHPAMlSIHBt2zx/4CCCEJ8P/YW64wKCEIS5+Im64wIwcHp5ewGQMNMfAYIQnw/9hbry4IHTPwEx+EFvJDAyUkDHBfLhkCJus/LhlYIK+vCAvvLhkSEgbvLQgAHIAYIQQVFZVFjLH8s/yX9t2zx/egKObW0ibrOZWyBu8tCAbyIBkTLi+EFvJBNfA/gnbxABoYIImJaAuY6UggiYloBw+wIQJHADBIEAglAj2zzgECRwAwSAQlAj2zx8fAGE0x8BghCEufiJuvLggdM/ATH4QW8kECNfA1IwxwXy4ZAhbvLhlnCBAKACyAGCCU5rk1jLH8s/ySRQM39VMG1t2zx/fAHKyHEBygFQBwHKAHABygJQBSDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IjPFlAD+gJwAcpoI26zkX+TJG6z4pczMwFwAcoA4w0hbrOcfwHKAAEgbvLQgAHMlTFwAcoA4skB+wB9AJh/AcoAyHABygBwAcoAJG6znX8BygAEIG7y0IBQBMyWNANwAcoA4iRus51/AcoABCBu8tCAUATMljQDcAHKAOJwAcoAAn8BygACyVjMAOzI+EMBzH8BygBVIFog10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxZYINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiM8WASBulTBwAcsBjh4g10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIzxbiye1UAgEggIoCASCBiAIBIIKGAgEgg4QCEbBVts82zxsMYJibAhGzcfbPNs8bDGCYhQACIgIRtEj7Z5tnjYYwmIcACoIImJaAAhG4Zm2zzbPGwxiYiQACIQIBIIuRAgEgjJACASCNjgIRsXK2zzbPGwxgmJsCEbGwNs82zxsMYJiPAAj4J28QAJW3ejBOC52Hq6WVz2PQnYc6yVCjbNBOE7rGpaVsj5ZkWnXlv74sRzBOBAq4A3AM7HKZywdVyOS2WHBOE7Lpy1Zp2W5nQdLNsozdFJACAUiSkwARsK+7UTQ0gABgAgEglJYCEa/m7Z5tnjYYwJiVAAIgAgFil5wCD6LnbPNs8bDGmJsCuO1E0NQB+GPSAAHjAvgo1wsKgwm68uCJ+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAH6QAEg10mBAQu68uCIINcLCiCBBP+68tCJgwm68uCIEgLRAds8mZoA4vpAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IgB+kABINdJgQELuvLgiCDXCwoggQT/uvLQiYMJuvLgiAEg1wsBwwCOH/pAASDXSYEBC7ry4Igg1wsKIIEE/7ry0ImDCbry4IiUctchbeJDMGwTAAJtAAqCCvrwgABzou40NWlwZnM6Ly9RbVpqdXpmV2tKV0xKRXNGZ2huZ2Nxa0x0UDE0MnRYRmNDdjFFekE4MTR6b0VHglsaIqg="),n=beginCell$1();n.storeRef(o),n.storeUint(0,1),Ot({$$type:"DataStream_init_args",publisher:i,topic:t})(n);let s=n.endCell();return {code:e,data:s}}var jt={2:{message:"Stack underflow"},3:{message:"Stack overflow"},4:{message:"Integer overflow"},5:{message:"Integer out of expected range"},6:{message:"Invalid opcode"},7:{message:"Type check error"},8:{message:"Cell overflow"},9:{message:"Cell underflow"},10:{message:"Dictionary error"},13:{message:"Out of gas error"},32:{message:"Method ID not found"},34:{message:"Action is invalid or not supported"},37:{message:"Not enough TON"},38:{message:"Not enough extra-currencies"},128:{message:"Null reference exception"},129:{message:"Invalid serialization prefix"},130:{message:"Invalid incoming message"},131:{message:"Constraints error"},132:{message:"Access denied"},133:{message:"Contract stopped"},134:{message:"Invalid argument"},135:{message:"Code of a contract was not found"},136:{message:"Invalid address"},137:{message:"Masterchain support is not enabled for this contract"}},Vt=[{name:"StateInit",header:null,fields:[{name:"code",type:{kind:"simple",type:"cell",optional:!1}},{name:"data",type:{kind:"simple",type:"cell",optional:!1}}]},{name:"Context",header:null,fields:[{name:"bounced",type:{kind:"simple",type:"bool",optional:!1}},{name:"sender",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"raw",type:{kind:"simple",type:"slice",optional:!1}}]},{name:"SendParameters",header:null,fields:[{name:"bounce",type:{kind:"simple",type:"bool",optional:!1}},{name:"to",type:{kind:"simple",type:"address",optional:!1}},{name:"value",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"mode",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"body",type:{kind:"simple",type:"cell",optional:!0}},{name:"code",type:{kind:"simple",type:"cell",optional:!0}},{name:"data",type:{kind:"simple",type:"cell",optional:!0}}]},{name:"DSTDeploy",header:306133030,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeploySuccess",header:3957924127,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeployBatch",header:3012477066,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeployBatchSuccess",header:1261138638,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"batch",type:{kind:"simple",type:"address",optional:!1}}]},{name:"DSTDeploySession",header:1658160529,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTDeploySessionSuccess",header:3452518278,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}}]},{name:"DSTSubscribe",header:3216336466,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"subscriber",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"DSTSubscribeSuccess",header:3770107736,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"batch",type:{kind:"simple",type:"address",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"Candlestick",header:null,fields:[{name:"start",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"end",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"open",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"close",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"high",type:{kind:"simple",type:"int",optional:!1,format:257}},{name:"low",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"DSTPublishCandlestick",header:990592317,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}}]},{name:"DSTPublishCandlestickSuccess",header:215123525,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"DSTUnsubscribedNotification",header:1287102660,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBDeploy",header:4267613765,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SBDeploySuccess",header:1031311118,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"batchId",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBSubscribe",header:2001551522,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBSubscribeSuccess",header:4082513223,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBPublishCandlestick",header:4051052066,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}},{name:"publisher",type:{kind:"simple",type:"address",optional:!1}}]},{name:"SBCandlestickPublishedNotification",header:4175431181,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBUnsubscribedNotification",header:1003141156,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBPublishCandlestickSuccess",header:1027631690,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDeploy",header:1372687436,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDeploySuccess",header:269942218,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"subscriber",type:{kind:"simple",type:"address",optional:!1}}]},{name:"SESSubscribe",header:1533823831,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"DSTTopUpSubscription",header:495971614,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"subscriber",type:{kind:"simple",type:"address",optional:!1}},{name:"batch",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBTopUpSubscription",header:267884312,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"session",type:{kind:"simple",type:"address",optional:!1}},{name:"notificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESSubscribeSuccess",header:1400038355,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESCandlestickPublishedNotification",header:3200926804,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"candlestick",type:{kind:"simple",type:"Candlestick",optional:!1}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESUnsubscribedNotification",header:4092566650,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SESUnsubscribe",header:2668625285,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SBUnsubscribe",header:1095850324,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDestroy",header:2226780297,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SESDestroySuccess",header:21916563,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRGDeploy",header:4195386677,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRGDeploySuccess",header:3142995347,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRGDeployBroker",header:298971134,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"stream",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRKDeploy",header:1366331229,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKDeploySuccess",header:2536416450,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"stream",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRGDeployBrokerSuccess",header:4042145317,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"broker",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRGDeployAccount",header:3233956202,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRADeploy",header:1181556865,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRADeploySuccess",header:3517832790,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"trader",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRGDeployAccountSuccess",header:1962963078,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}},{name:"account",type:{kind:"simple",type:"address",optional:!1}}]},{name:"BRKDeposit",header:2141827764,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKDepositSuccess",header:2064422216,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKWithdraw",header:550691255,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"BRKWithdrawSuccess",header:2654800410,fields:[{name:"queryId",type:{kind:"simple",type:"uint",optional:!1,format:64}}]},{name:"SubscriptionInfo",header:null,fields:[{name:"remainingNotificationsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]},{name:"SBInfo",header:null,fields:[{name:"subscriptionsCount",type:{kind:"simple",type:"int",optional:!1,format:257}}]}],Zt=[{name:"balance",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"storageReserve",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"deployBatchDeposit",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"deploySessionDeposit",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"publishCandlestickDeposit",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"notificationDeposit",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"notificationPremium",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"publisherAddress",arguments:[],returnType:{kind:"simple",type:"address",optional:!1}},{name:"topic",arguments:[],returnType:{kind:"simple",type:"string",optional:!1}},{name:"batches",arguments:[],returnType:{kind:"dict",key:"address",value:"SBInfo",valueFormat:"ref"}},{name:"nextBatchId",arguments:[],returnType:{kind:"simple",type:"int",optional:!1,format:257}},{name:"batchAddress",arguments:[{name:"batchId",type:{kind:"simple",type:"int",optional:!1,format:257}}],returnType:{kind:"simple",type:"address",optional:!1}},{name:"sessionAddress",arguments:[{name:"subscriber",type:{kind:"simple",type:"address",optional:!1}}],returnType:{kind:"simple",type:"address",optional:!1}}],$t=[{receiver:"internal",message:{kind:"typed",type:"DSTDeploy"}},{receiver:"internal",message:{kind:"typed",type:"DSTDeployBatch"}},{receiver:"internal",message:{kind:"typed",type:"SBDeploySuccess"}},{receiver:"internal",message:{kind:"typed",type:"DSTDeploySession"}},{receiver:"internal",message:{kind:"typed",type:"SESDeploySuccess"}},{receiver:"internal",message:{kind:"typed",type:"DSTSubscribe"}},{receiver:"internal",message:{kind:"typed",type:"DSTTopUpSubscription"}},{receiver:"internal",message:{kind:"typed",type:"SBSubscribeSuccess"}},{receiver:"internal",message:{kind:"typed",type:"DSTPublishCandlestick"}},{receiver:"internal",message:{kind:"typed",type:"SBUnsubscribedNotification"}}],Be=class X{constructor(t,e){this.abi={types:Vt,getters:Zt,receivers:$t,errors:jt},this.address=t,this.init=e;}static async init(t,e){return await ue(t,e)}static async fromInit(t,e){let o=await ue(t,e),n=contractAddress$1(0,o);return new X(n,o)}static fromAddress(t){return new X(t)}async send(t,e,o,n){let s=null;if(n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="DSTDeploy"&&(s=beginCell$1().store(Jt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="DSTDeployBatch"&&(s=beginCell$1().store(vt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="SBDeploySuccess"&&(s=beginCell$1().store(zt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="DSTDeploySession"&&(s=beginCell$1().store(Ft(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="SESDeploySuccess"&&(s=beginCell$1().store(xt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="DSTSubscribe"&&(s=beginCell$1().store(Gt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="DSTTopUpSubscription"&&(s=beginCell$1().store(Kt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="SBSubscribeSuccess"&&(s=beginCell$1().store(Yt(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="DSTPublishCandlestick"&&(s=beginCell$1().store(j(n)).endCell()),n&&typeof n=="object"&&!(n instanceof Slice)&&n.$$type==="SBUnsubscribedNotification"&&(s=beginCell$1().store(Rt(n)).endCell()),s===null)throw new Error("Invalid message type");await t.internal(e,{...o,body:s});}async getBalance(t){let e=new TupleBuilder;return (await t.get("balance",e.build())).stack.readBigNumber()}async getStorageReserve(t){let e=new TupleBuilder;return (await t.get("storageReserve",e.build())).stack.readBigNumber()}async getDeployBatchDeposit(t){let e=new TupleBuilder;return (await t.get("deployBatchDeposit",e.build())).stack.readBigNumber()}async getDeploySessionDeposit(t){let e=new TupleBuilder;return (await t.get("deploySessionDeposit",e.build())).stack.readBigNumber()}async getPublishCandlestickDeposit(t){let e=new TupleBuilder;return (await t.get("publishCandlestickDeposit",e.build())).stack.readBigNumber()}async getNotificationDeposit(t){let e=new TupleBuilder;return (await t.get("notificationDeposit",e.build())).stack.readBigNumber()}async getNotificationPremium(t){let e=new TupleBuilder;return (await t.get("notificationPremium",e.build())).stack.readBigNumber()}async getPublisherAddress(t){let e=new TupleBuilder;return (await t.get("publisherAddress",e.build())).stack.readAddress()}async getTopic(t){let e=new TupleBuilder;return (await t.get("topic",e.build())).stack.readString()}async getBatches(t){let e=new TupleBuilder,o=(await t.get("batches",e.build())).stack;return Dictionary.loadDirect(Dictionary.Keys.Address(),Wt(),o.readCellOpt())}async getNextBatchId(t){let e=new TupleBuilder;return (await t.get("nextBatchId",e.build())).stack.readBigNumber()}async getBatchAddress(t,e){let o=new TupleBuilder;return o.writeNumber(e),(await t.get("batchAddress",o.build())).stack.readAddress()}async getSessionAddress(t,e){let o=new TupleBuilder;return o.writeAddress(e),(await t.get("sessionAddress",o.build())).stack.readAddress()}};toNano("0.03");toNano("0.01");toNano("1");toNano("2");var si=async i=>{let{redis:t,bybit:e,log:o}=i;e.ws.subscribeV5("kline.1.BTCUSDT","spot");let n=new TonClient({endpoint:"https://testnet.toncenter.com/api/v2/jsonRPC",apiKey:i.config.RPC_PROVIDER_API_KEY}),s=await mnemonicToPrivateKey(i.config.MNEMONIC.split(",")),p=WalletContractV4.create({workchain:0,publicKey:s.publicKey}),a=n.open(p),A=n.open(Be.fromAddress(Address.parse(i.config.DATA_STREAM_ADDRESS)));e.ws.on("update",async C=>{switch(C.topic){case"kline.1.BTCUSDT":for(let c of C.data)if(c.confirm){t.pipeline().rpush("kline:BTC:24h",JSON.stringify(c)).ltrim("kline:BTC:24h",-1440,-1).exec();try{let f=await A.getBatches(),b=!1;for(let[U,k]of f)o.debug("Batch Info: %s",k.subscriptionsCount.toString()),k.subscriptionsCount>0?b=!1:b=!0;if(b)return;let G=await a.getSeqno(),P={$$type:"Candlestick",open:BigInt(c.open.split(".").join("")),high:BigInt(c.high.split(".").join("")),low:BigInt(c.low.split(".").join("")),close:BigInt(c.close.split(".").join("")),start:BigInt(c.start.toString().slice(0,-3)),end:BigInt(c.end.toString().slice(0,-3))+1n};o.debug("Publishing Candlestick: %s",JSON.stringify(P,(U,k)=>typeof k=="bigint"?k.toString():k,2)),await a.sendTransfer({seqno:G,secretKey:s.secretKey,messages:[internal({value:"5",to:i.config.DATA_STREAM_ADDRESS,body:beginCell().store(j({$$type:"DSTPublishCandlestick",queryId:777n,candlestick:P})).endCell()})]});}catch(f){o.error("Error: %s",f);}}else t.set("kline:BTC:1m",JSON.stringify(c));break}}),i.get("/kline/:topic",{schema:{params:l.object({topic:w}),querystring:l.object({token:l.string().optional()}).optional()}},de),i.get("/kline",{websocket:!0},Ae);},Ie=si;var Ce=l.object({address:l.string(),network:l.nativeEnum(M),public_key:l.string(),proof:l.object({timestamp:l.number(),domain:l.object({lengthBytes:l.number(),value:l.string()}),payload:l.string(),signature:l.string(),state_init:l.string()})});async function fe(i,t){try{let e=D.create("-3");if(!await new h().checkProof(i.body,p=>e.getWalletPublicKey(p)))return t.code(400).send({message:"Invalid proof"});if(!i.server.jwt.verify(i.body.proof.payload).toString())return t.code(400).send({message:"Invalid token"});let r=await t.jwtSign({address:i.body.address,network:i.body.network,name:"Vladimir Starkov",email:"test@gmail.com"},{expiresIn:"180d"});return t.code(200).send({message:"Proof is valid",token:r})}catch(e){return console.error(e),t.code(400).send({message:"Invalid request",error:e})}}async function Ee(i,t){try{let o=new h().generatePayload(),n=await t.jwtSign({payload:o},{expiresIn:"15m"});return t.code(200).send({proofToken:n})}catch(e){return console.error(e),t.code(400).send({message:"Invalid request",error:e})}}async function we(i,t){try{let{address:e,network:o}=i.user,n=D.create(o),{account:s}=await n.getAccountInfo(e);return t.code(200).send({address:e,balance:fromNano(s.balance.coins)})}catch(e){return console.error(e),t.code(400).send({message:"Invalid request",error:e})}}var ri=async i=>{i.post("/check-proof",{schema:{body:Ce}},fe),i.post("/generate-proof-payload",{},Ee),i.get("/account-info",{preHandler:async(t,e)=>{try{await t.jwtVerify();}catch(o){e.send(o);}}},we);},Qe=ri;var yi=l.object({status:l.literal("pending"),optionId:l.string(),draft:l.object({$$type:l.literal("CashOrNothingOptionDraftAgreement"),holder:l.string(),initiation:l.string(),expiration:l.string(),investment:l.string(),optionType:l.boolean()})}),T=(i,t)=>typeof t=="bigint"||t instanceof Address?t.toString():t,li=(i,t)=>{let e=["optionId","initiation","expiration","investment"],o=["address","holder","writer"];return e.includes(i)&&typeof t=="string"?BigInt(t):o.includes(i)&&typeof t=="string"?Address.parse(t):t},mi=3600n,gi=async i=>{let t=i.log,e=new Queue("options",{connection:{host:i.config.REDIS_HOST,port:i.config.REDIS_PORT,password:i.config.REDIS_PASSWORD}}),o=new TonClient4({endpoint:"https://testnet-v4.tonhubapi.com/"});for(let n=0;n<5;n++){let s=new Worker("options",async r=>{let p=JSON.parse(await i.redis.get(r.data.redisKey)||"",li);if(p.status==="settled"&&r.repeatJobKey){let A=await e.removeRepeatableByKey(r.repeatJobKey);t.info(`Removed repeatable job ${r.repeatJobKey} with result ${A}`);}if(p.status==="pending"){for(let A=0n;A<32n;A++){t.debug(`Checking option ${p.optionId+A}...`);let C=await o.open(ce.fromAddress(i.config.BTC_BROKER_ADDRESS)).getOptionAddress(p.optionId+A);t.debug(`Option address: ${C.toString({testOnly:!0,bounceable:!1})}`);let c=o.open(O.fromAddress(C));try{let f=await c.getAgreement();if(f&&f.holder.toString()===r.data.trader){t.debug(`Option ${p.optionId+A} has been deployed!`);let b={...p,status:"deployed",address:c.address,agreement:f};i.redis.set(r.data.redisKey,JSON.stringify(b,T));}}catch(f){f instanceof Error&&f.message.includes("-256")&&t.error(`Option with address ${c.address.toString({testOnly:!0})} has not been deployed. Full error: ${f}`);break}}return}let a=o.open(O.fromAddress(p.address));if(p.status==="deployed")try{let A=await a.getStrikePrice();if(console.log(`Strike price: ${A}`),!A)return;let C={...p,status:"initiated",strikePrice:Number(A)};i.redis.set(r.data.redisKey,JSON.stringify(C,T));}catch{}else if(p.status==="initiated")try{let A=await a.getExpiration();if(A&&A+mi<BigInt(Math.ceil(Date.now()/1e3))){console.log("Option has expired!");let C={...p,status:"expired"};i.redis.set(r.data.redisKey,JSON.stringify(C,T));}}catch(A){console.log(A);let C={...p,status:"settled"};i.redis.set(r.data.redisKey,JSON.stringify(C,T));}t.info(`Processing option ${p.optionId}`);},{connection:{host:i.config.REDIS_HOST,port:i.config.REDIS_PORT,password:i.config.REDIS_PASSWORD}});s.on("completed",r=>{t.info(`${r.id} has completed!`);}),s.on("failed",(r,p)=>{t.error(`${r?.id} has failed with ${p.stack}`);});}i.post("/options",{preHandler:async(n,s)=>{try{await n.jwtVerify();}catch(r){return s.send(r)}},schema:{body:l.object({pendingOption:yi,trader:l.string().transform((n,s)=>{try{return Address.parse(n)}catch{s.addIssue({code:l.ZodIssueCode.custom,message:"Provided address is not valid"});}})})}},async(n,s)=>{let r=n.body,p=`${r.trader?.toString()}:option-${r.pendingOption.optionId}`;i.redis.set(p,JSON.stringify(r.pendingOption,T)),await e.add(`option-${r.pendingOption.optionId}`,{redisKey:p,trader:r.trader?.toString()},{removeOnComplete:!0,repeat:{every:5e3},repeatJobKey:`option-${r.pendingOption.optionId}`}),s.code(202).send({statusCode:202,message:"Option has been added to the tracking queue"});}),i.get("/:trader/options",{schema:{params:l.object({trader:l.string().transform((n,s)=>{try{return Address.parse(n)}catch{s.addIssue({code:l.ZodIssueCode.custom,message:"Provided address is not valid"});}})})}},async(n,s)=>{let r=await i.redis.keys(`${n.params.trader?.toString()}:option-*`);if(!r.length)return s.code(404).send({statusCode:404,message:"No options found for the provided trader"});let p=await i.redis.mget(r),a=new Response(`[${p.filter(A=>A!==null).join(",")}]`,{headers:{"content-type":"application/json"}});return s.code(200).send(a)});},be=gi;var ui=async i=>{await i.register(Ie),await i.register(Qe),await i.register(be);},ke=ui;var u=Qi({logger:{level:process.env.LOG_LEVEL}}).withTypeProvider();u.setValidatorCompiler(validatorCompiler);u.setSerializerCompiler(serializerCompiler);await u.register(Y);await u.register(ci,{origin:"*"});await u.register(Bi);await u.register(Ii,{secret:u.config.JWT_SECRET});await u.register(fi,{openapi:{openapi:"3.0.0",info:{title:"Test swagger",description:"Testing the Fastify swagger API",version:"0.1.0"},servers:[{url:"http://localhost:3000",description:"Development server"}],tags:[{name:"user",description:"User related end-points"},{name:"code",description:"Code related end-points"}],components:{securitySchemes:{apiKey:{type:"apiKey",name:"apiKey",in:"header"}}},externalDocs:{url:"https://swagger.io",description:"Find more info here"}}});await u.register(wi,{routePrefix:"/reference",configuration:{spec:{content:()=>u.swagger()}}});await u.register(Ei,{options:{maxPayload:1048576}});await u.register(Ci,{url:u.config.REDIS_URI});await u.register(z);u.get("/",(i,t)=>t.code(418).send({message:"I am a teapot"}));await u.register(ke);await u.ready();var N=u;process.on("unhandledRejection",i=>{console.error(i),process.exit(1);});var Di=+N.config.API_PORT,hi=N.config.API_HOST;await N.listen({host:hi,port:Di});for(let i of ["SIGINT","SIGTERM"])process.on(i,()=>N.close().then(t=>{console.log(`close application on ${i}`),process.exit(t?1:0);}));
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map